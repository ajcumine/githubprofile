<html>
<head>
  <title>Github Profiles</title>
  <link href='reset.css' rel='stylesheet'>
  <link href='github.css' rel='stylesheet'>
  <meta charset='utf-8'>
</head>
<header>
  <h1>GITHUB PROFILE SEARCH</h1>
</header>
<body>
  <form id='add_profile'>
    <input id='username' autocomplete='off' autocorrect='off' spellcheck='false' placeholder='Enter a Github username'>
    <button type='submit'>Load profile</button>
  </form>
  <div class='profile-container'>
    <template id='profile-template'>
      <div class='profile'>
        <div class='left'>
          <img src="{{ avatar_url }}">
        </div>
        <div class='right'>
          <h3>
            <a href="{{ url }}">{{ login }}</a>
          </h3>
          <h4>Following: {{ following }}</h4>
          <h4>Followers: {{ followers }}</h4>
          <a class='close' href='#'>REMOVE</a>
        </div>
        
        <br clear='all'>
      </div>
    </template>
  </div>
  <script src='https://code.jquery.com/jquery-2.1.0.min.js'></script>
  <script src='mustache.js'></script>
  <script>

    function addProfileFromUsername(usernameEntered) {
      $.get("https://api.github.com/users/" + usernameEntered, function(user){
        var newProfile = Mustache.render($('#profile-template').html(), user);
          ($('.profile-container')).prepend(newProfile).slideDown();
          $('#username').val('');
        })
    }
    $(document).ready(function(){
      var usernames = ['alexmakers', 'tiffaniechia', 'lycanstrife', 'ajcumine'];
      usernames.forEach(function(usernames){
        addProfileFromUsername(usernames);
      })

      $('.profile-container').on('click', '.close', function(){
        $(this).parent().remove();
      })
      $('#add_profile').on('submit', function(event){
        event.preventDefault();
        var usernameEntered = $('#username').val();
        addProfileFromUsername(usernameEntered);
      })
    })
  </script>
</body>  
</html>